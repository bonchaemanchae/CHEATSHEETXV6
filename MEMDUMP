=====================================================
MEMDUMP — STRAIGHTFORWARD MODIFICATIONS (ANSWERS)
(Based on your existing Lab 1 memdump answer key)
=====================================================

BASELINE (what your memdump already does)
- Reads memory using a format string
- Uses pointer `p` to walk through data
- Supported formats:
  c  -> 1 byte char
  h  -> 2 byte short
  i  -> 4 byte int
  p  -> 8 byte pointer printed as hex
  s  -> 8 byte address, print string at that address
  S  -> print string starting at p, then STOP

-----------------------------------------------------
MOD 1 — ADD FORMAT 'u' (UNSIGNED 4-BYTE INTEGER)
-----------------------------------------------------

QUESTION:
Extend memdump so that format character 'u' reads
4 bytes from memory and prints them as an UNSIGNED
decimal integer.

FILES:
- user/memdump.c

ADD THIS CASE INSIDE memdump() SWITCH:
-----------------------------------------------------
case 'u':
{
    uint value;
    memmove(&value, p, 4);
    printf("%u\n", value);
    p += 4;
    break;
}
-----------------------------------------------------

NO OTHER CHANGES REQUIRED.

-----------------------------------------------------
MOD 2 — ADD "0x" PREFIX TO POINTER OUTPUT ('p')
-----------------------------------------------------

QUESTION:
Modify memdump so that pointer output includes a
"0x" prefix before the hexadecimal digits.

FILES:
- user/memdump.c

MODIFY case 'p':

ORIGINAL (simplified):
-----------------------------------------------------
for (int i = 7; i >= 0; i--) {
    unsigned char b = (v >> (i * 8)) & 0xff;
    printf("%c", hex[b >> 4]);
    printf("%c", hex[b & 0x0f]);
}
printf("\n");
-----------------------------------------------------

MODIFIED:
-----------------------------------------------------
printf("0x");
for (int i = 7; i >= 0; i--) {
    unsigned char b = (v >> (i * 8)) & 0xff;
    printf("%c", hex[b >> 4]);
    printf("%c", hex[b & 0x0f]);
}
printf("\n");
-----------------------------------------------------

-----------------------------------------------------
MOD 3 — CHANGE 'S' SO IT CONTINUES INSTEAD OF STOPPING
-----------------------------------------------------

QUESTION:
Modify memdump so that format 'S':
- prints the string starting at p
- advances p past the null terminator
- continues processing the remaining format characters

FILES:
- user/memdump.c

ORIGINAL:
-----------------------------------------------------
case 'S':
{
    printf("%s\n", p);
    return;
}
-----------------------------------------------------

MODIFIED:
-----------------------------------------------------
case 'S':
{
    printf("%s\n", p);
    p += strlen(p) + 1;
    break;
}
-----------------------------------------------------

-----------------------------------------------------
MOD 4 — ADD FORMAT 'b' (PRINT RAW BYTE AS DECIMAL)
-----------------------------------------------------

QUESTION:
Extend memdump with format character 'b':
- reads 1 byte
- prints its UNSIGNED decimal value (0–255)

FILES:
- user/memdump.c

ADD THIS CASE:
-----------------------------------------------------
case 'b':
{
    unsigned char v = *(unsigned char *)p;
    printf("%d\n", v);
    p += 1;
    break;
}
-----------------------------------------------------

-----------------------------------------------------
MOD 5 — IGNORE UNKNOWN FORMAT CHARACTERS
-----------------------------------------------------

QUESTION:
Modify memdump so that unknown format characters
are ignored instead of doing nothing silently.

Behavior:
- Print:
  unknown format: X
- Continue processing remaining format characters

FILES:
- user/memdump.c

MODIFY default CASE:
-----------------------------------------------------
default:
{
    printf("unknown format: %c\n", fmt[i]);
    break;
}
-----------------------------------------------------

-----------------------------------------------------
END
-----------------------------------------------------


