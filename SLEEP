=====================================================
SLEEP.C — STRAIGHTFORWARD MODIFICATIONS (ANSWERS)
(Based on your existing Lab 1 sleep answer key)
=====================================================

BASELINE (your working sleep.c behavior)
- Requires 1 argument: ticks
- Converts argv[1] -> int
- Calls pause(ticks)
- exit(0)

-----------------------------------------------------
MOD 1 — DEFAULT TO 10 TICKS IF NO ARGUMENT GIVEN
-----------------------------------------------------

QUESTION:
Modify sleep so that if no ticks argument is provided,
it sleeps for 10 ticks instead of printing usage.

FILES:
- user/sleep.c

FINAL CODE (copy-paste):
-----------------------------------------------------
#include "kernel/types.h"
#include "kernel/stat.h"
#include "user/user.h"

int
main(int argc, char *argv[])
{
    int ticks = 10; // default

    if (argc >= 2) {
        ticks = atoi(argv[1]);
    }

    pause(ticks);
    exit(0);
}
-----------------------------------------------------

-----------------------------------------------------
MOD 2 — VALIDATE TICKS (ticks MUST BE > 0)
-----------------------------------------------------

QUESTION:
Modify sleep so that ticks <= 0 is invalid.
If invalid, print:
  invalid ticks
and exit(1).

FILES:
- user/sleep.c

FINAL CODE (copy-paste):
-----------------------------------------------------
#include "kernel/types.h"
#include "kernel/stat.h"
#include "user/user.h"

int
main(int argc, char *argv[])
{
    if (argc < 2) {
        printf("usage: sleep ticks\n");
        exit(1);
    }

    int ticks = atoi(argv[1]);

    if (ticks <= 0) {
        printf("invalid ticks\n");
        exit(1);
    }

    pause(ticks);
    exit(0);
}
-----------------------------------------------------

-----------------------------------------------------
MOD 3 — DEFAULT + VALIDATION (COMBINE MOD 1 AND MOD 2)
-----------------------------------------------------

QUESTION:
Behavior:
- If no arg: sleep 10 ticks
- If ticks <= 0: print "invalid ticks" and exit(1)
- Else pause(ticks)

FILES:
- user/sleep.c

FINAL CODE (copy-paste):
-----------------------------------------------------
#include "kernel/types.h"
#include "kernel/stat.h"
#include "user/user.h"

int
main(int argc, char *argv[])
{
    int ticks = 10; // default

    if (argc >= 2) {
        ticks = atoi(argv[1]);
    }

    if (ticks <= 0) {
        printf("invalid ticks\n");
        exit(1);
    }

    pause(ticks);
    exit(0);
}
-----------------------------------------------------

-----------------------------------------------------
MOD 4 — SLEEP IN CHUNKS (LOOPED PAUSE)
-----------------------------------------------------

QUESTION:
Modify sleep so that it pauses for 1 tick repeatedly
until total ticks is reached.
(Still same total sleep time.)

FILES:
- user/sleep.c

FINAL CODE (copy-paste):
-----------------------------------------------------
#include "kernel/types.h"
#include "kernel/stat.h"
#include "user/user.h"

int
main(int argc, char *argv[])
{
    if (argc < 2) {
        printf("usage: sleep ticks\n");
        exit(1);
    }

    int ticks = atoi(argv[1]);

    if (ticks <= 0) {
        printf("invalid ticks\n");
        exit(1);
    }

    for (int i = 0; i < ticks; i++) {
        pause(1);
    }

    exit(0);
}
-----------------------------------------------------

-----------------------------------------------------
MOD 5 — NEW PROGRAM sleep2 (ticks + chunk size)
-----------------------------------------------------

QUESTION:
Create a NEW user program:
  sleep2 ticks chunk
It should pause for total `ticks`, but in steps of `chunk`.

Example:
  sleep2 10 2  -> pause(2) 5 times

If ticks<=0 or chunk<=0: print "invalid" and exit(1)

FILES:
- user/sleep2.c
- Makefile (add _sleep2)

FINAL CODE (copy-paste user/sleep2.c):
-----------------------------------------------------
#include "kernel/types.h"
#include "kernel/stat.h"
#include "user/user.h"

int
main(int argc, char *argv[])
{
    if (argc < 3) {
        printf("usage: sleep2 ticks chunk\n");
        exit(1);
    }

    int ticks = atoi(argv[1]);
    int chunk = atoi(argv[2]);

    if (ticks <= 0 || chunk <= 0) {
        printf("invalid\n");
        exit(1);
    }

    int rem = ticks;
    while (rem > 0) {
        int step = (rem < chunk) ? rem : chunk;
        pause(step);
        rem -= step;
    }

    exit(0);
}
-----------------------------------------------------

Makefile:
- add:
  _sleep2

-----------------------------------------------------
END
-----------------------------------------------------



